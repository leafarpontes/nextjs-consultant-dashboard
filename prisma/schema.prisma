generator client {
  provider = "prisma-client-js"
  output   = "../app/generated/prisma"
  binaryTargets = ["native", "rhel-openssl-1.0.x", "rhel-openssl-3.0.x"]
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id                String   @id @default(uuid())
  type              UserType
  name              String
  phone             String
  email             String   @unique
  age               Int
  cpf               String @unique
  cep               String
  state             String
  address           String
  addressComplement String?

  consultantId String?
  consultant   User?     @relation("ConsultantClients", fields: [consultantId], references: [id])
  clients      User[]    @relation("ConsultantClients")

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

enum UserType {
  USER
  CONSULTANT
}
